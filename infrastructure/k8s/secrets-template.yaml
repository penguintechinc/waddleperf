apiVersion: v1
kind: Secret
metadata:
  name: waddleperf-db-credentials
  namespace: waddleperf
  labels:
    app: waddleperf
type: Opaque
stringData:
  # Database Connection String
  # Format: protocol://user:password@host:port/database
  # Examples:
  #   postgresql://user:password@postgres.waddleperf.svc.cluster.local:5432/waddleperf
  #   mysql://user:password@mysql.waddleperf.svc.cluster.local:3306/waddleperf
  #   sqlite:////data/waddleperf.db
  database-url: "postgresql://waddleperf_user:CHANGE_ME_DB_PASSWORD@postgres.waddleperf.svc.cluster.local:5432/waddleperf"

  # Database Type - must match PyDAL connection string prefixes
  # Supported values: postgresql, mysql, sqlite, mariadb
  db-type: "postgresql"

  # Database Host
  db-host: "postgres.waddleperf.svc.cluster.local"

  # Database Port
  db-port: "5432"

  # Database Username
  db-user: "waddleperf_user"

  # Database Password
  # IMPORTANT: Change this to a strong, randomly generated password
  db-password: "CHANGE_ME_DB_PASSWORD"

  # Database Name
  db-name: "waddleperf"
---
apiVersion: v1
kind: Secret
metadata:
  name: waddleperf-app-secrets
  namespace: waddleperf
  labels:
    app: waddleperf
type: Opaque
stringData:
  # JWT Secret Key
  # IMPORTANT: Generate a strong random key using: openssl rand -hex 32
  jwt-secret: "CHANGE_ME_JWT_SECRET_MIN_32_CHARS_REQUIRED_FOR_SECURITY"

  # Additional application secrets can be added here:
  # - API keys
  # - External service credentials
  # - Encryption keys
  # - License keys
---
apiVersion: v1
kind: Secret
metadata:
  name: waddleperf-docker-registry
  namespace: waddleperf
  labels:
    app: waddleperf
type: kubernetes.io/dockercfg
stringData:
  .dockercfg: |
    {
      "registry-dal2.penguintech.io": {
        "auth": "CHANGE_ME_BASE64_ENCODED_REGISTRY_CREDENTIALS"
      }
    }
---
# Note: This secret should only be created if using external image registry authentication
# To create the .dockercfg entry:
# 1. Create a personal access token in your registry
# 2. Run: echo -n "username:password" | base64
# 3. Replace CHANGE_ME_BASE64_ENCODED_REGISTRY_CREDENTIALS with the output
#
# Or use kubectl create secret:
# kubectl create secret docker-registry waddleperf-docker-registry \
#   --docker-server=registry-dal2.penguintech.io \
#   --docker-username=<username> \
#   --docker-password=<password> \
#   --docker-email=<email> \
#   -n waddleperf
